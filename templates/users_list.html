{% extends "base.html" %}

{% block content %}
    <!-- To show the message we use a for loop -->
    {% for message in get_flashed_messages() %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            {{ message }}            
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>    
    {% endfor %}


    <h1>List of Users</h1>
    <br>
    <table class="table table-hover table-bordered">
        <thead>
            <tr>
            <th scope="col">ID</th>
            <th scope="col">Username</th>
            <th scope="col">Email</th>
            <th scope="col">Age</th>
            </tr>
        </thead>
        {% for our_user in our_users %}
        <tbody>
            <tr>
            <th scope="row">{{ our_user.id }}</th>
            <td><a href="{{ url_for('update', id=our_user.id) }}">{{ our_user.name }}</a></td>
            <td>{{ our_user.email }}</td>
            <td>{{ our_user.age }}</td>
            <td><a href="{{ url_for('delete', id=our_user.id) }}" class="btn btn-danger">Delete</a></td>
            </tr>
        {% endfor %}
    </table>  

{% endblock %}